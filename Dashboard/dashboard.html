<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real time Dashboard using websockets | Manubhav Jain</title>
    <script>
        function toggleNav() {
            document.querySelector('.nav-links').classList.toggle('active');
        }
        </script>
    <style>
        .hamburger {
            display: none;
        }

        @media (max-width: 768px) {
            .hamburger {
                display: block;
                font-size: 24px;
                cursor: pointer;
            }
        }
        :root {
            --primary-color: #0a192f;
            --secondary-color: #64ffda;
            --text-color: #ccd6f6;
            --bg-color: #0a192f;
            --card-bg: #112240;
            --section-padding: 100px 0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        header {
            padding: 15px 20px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background-color: rgba(10, 25, 47, 0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .nav-links {
            display: none; /* Hide on mobile by default */
        }
        
        .menu-toggle {
            display: block;
            color: var(--secondary-color);
            font-size: 24px;
            cursor: pointer;
        }
        
        .nav-links.active {
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 60px;
            left: 0;
            width: 100%;
            background-color: rgba(10, 25, 47, 0.95);
            padding: 20px;
            gap: 15px;
        }
        
        .nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s;
            padding: 8px 0;
        }
        
        .nav-links a:hover {
            color: var(--secondary-color);
        }
        
        .button {
            background: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            margin-top: 15px;
            width: 100%;
            max-width: 200px;
        }
        
        .button:hover {
            background: rgba(100, 255, 218, 0.1);
        }
        
        .blog-header {
            height: auto;
            padding: 60px 0 40px;
            background-color: var(--primary-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 60px;
            background-image: linear-gradient(rgba(10, 25, 47, 0.8), rgba(10, 25, 47, 0.8)), url('/api/placeholder/800/400');
            background-size: cover;
            background-position: center;
        }
        
        .blog-image {
            max-width: 90%;
            margin: 0 auto 20px;
            display: block;
            border-radius: 8px;
        }
        
        .blog-header-content {
            text-align: center;
            max-width: 90%;
            padding: 0 15px;
        }
        
        .blog-category {
            color: var(--secondary-color);
            font-size: 14px;
            margin-bottom: 15px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        .blog-title {
            font-size: 28px;
            margin-bottom: 15px;
            color: #e6f1ff;
        }
        
        .blog-meta {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            color: #8892b0;
            font-size: 14px;
        }
        
        .blog-meta span {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .blog-meta i {
            color: var(--secondary-color);
        }
        
        .blog-content {
            max-width: 100%;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .blog-content h2 {
            font-size: 24px;
            margin: 35px 0 15px;
            color: #e6f1ff;
        }
        
        .blog-content h3 {
            font-size: 20px;
            margin: 25px 0 10px;
            color: #e6f1ff;
        }
        
        .blog-content p {
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        .blog-content img {
            max-width: 100%;
            border-radius: 8px;
            margin: 25px 0;
            box-shadow: 0 10px 30px -15px rgba(2, 12, 27, 0.7);
        }
        
        .blog-content .code-block {
            background-color: #1d2d50;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.5;
            color: #e6f1ff;
        }
        
        .blog-content code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #1d2d50;
            padding: 2px 5px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .blog-content ul, .blog-content ol {
            margin: 15px 0 15px 25px;
            font-size: 16px;
        }
        
        .blog-content li {
            margin-bottom: 8px;
        }
        
        .blog-content blockquote {
            border-left: 4px solid var(--secondary-color);
            padding-left: 15px;
            margin: 25px 0;
            font-style: italic;
            color: #8892b0;
        }
        
        .blog-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 30px 0 20px;
        }
        
        .blog-tag {
            background-color: rgba(100, 255, 218, 0.1);
            color: var(--secondary-color);
            padding: 5px 12px;
            border-radius: 4px;
            font-size: 12px;
        }
        
        .blog-author {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
            text-align: center;
        }
        
        .author-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
        }
        
        .author-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-content {
            width: 100%;
        }
        
        .author-name {
            font-size: 18px;
            margin-bottom: 10px;
            color: #e6f1ff;
        }
        
        .author-bio {
            margin-bottom: 15px;
            font-size: 14px;
            color: #8892b0;
        }
        
        .author-social {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .author-social a {
            color: var(--text-color);
            font-size: 18px;
            transition: color 0.3s;
        }
        
        .author-social a:hover {
            color: var(--secondary-color);
        }
        
        .related-posts {
            margin: 60px 0;
        }
        
        .related-title {
            font-size: 22px;
            margin-bottom: 25px;
            color: #e6f1ff;
        }
        
        .related-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .related-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s;
        }
        
        .related-card:hover {
            transform: translateY(-5px);
        }
        
        .related-image {
            width: 100%;
            height: 150px;
            overflow: hidden;
        }
        
        .related-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .related-card:hover .related-image img {
            transform: scale(1.05);
        }
        
        .related-content {
            padding: 15px;
        }
        
        .related-card-title {
            font-size: 16px;
            margin-bottom: 8px;
            color: #e6f1ff;
        }
        
        .related-date {
            font-size: 12px;
            color: #8892b0;
        }
        
        footer {
            padding: 30px 20px;
            background-color: #0d1b2a;
            text-align: center;
        }
        
        .footer-content {
            max-width: 100%;
            margin: 0 auto;
        }
        
        .footer-links {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .footer-links a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s;
            font-size: 14px;
        }
        
        .footer-links a:hover {
            color: var(--secondary-color);
        }
        
        .footer-social {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .footer-social a {
            color: var(--text-color);
            font-size: 18px;
            transition: color 0.3s, transform 0.3s;
        }
        
        .footer-social a:hover {
            color: var(--secondary-color);
            transform: translateY(-3px);
        }
        
        .footer-text {
            color: #8892b0;
            font-size: 12px;
        }
        
        .highlight {
            color: var(--secondary-color);
        }
        
        .back-to-portfolio {
            text-align: center;
            margin: 40px 0;
        }
        
        .code-block {
            background-color: #1d2d50;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.5;
            color: #e6f1ff;
            white-space: pre;
        }
        
        .code-comment {
            color: #639599;
        }
        
        .code-keyword {
            color: #f92672;
        }
        
        .code-string {
            color: #e6db74;
        }
        
        .code-function {
            color: #66d9ef;
        }
        
        .code-block .line {
            display: block;
        }
        
        .diagram-image {
            max-width: 100%;
            margin: 25px auto;
            display: block;
        }
        
        @media (min-width: 768px) {
            header {
                padding: 20px 50px;
            }
            
            .menu-toggle {
                display: none;
            }
            
            .nav-links {
                display: flex;
                gap: 30px;
            }
            
            .blog-title {
                font-size: 36px;
            }
            
            .blog-meta {
                flex-direction: row;
                justify-content: center;
                gap: 30px;
            }
            
            .blog-content {
                max-width: 800px;
                margin: 60px auto;
            }
            
            .blog-author {
                flex-direction: row;
                text-align: left;
                padding: 30px;
            }
            
            .author-image {
                margin: 0;
                width: 100px;
                height: 100px;
            }
            
            .author-social {
                justify-content: flex-start;
            }
            
            .related-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 30px;
            }
            
            .footer-links {
                display: flex;
                justify-content: center;
                gap: 30px;
            }
            
            .button {
                width: auto;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">MJ</a>
            <div class="hamburger" onclick="toggleNav()">&#9776;</div>
            <div class="nav-links" id="navLinks">
                <a href="../index.html#about">About</a>
                <a href="../index.html#experience">Experience</a>
                <a href="../index.html#skills">Skills</a>
                <a href="../index.html#projects">Projects</a>
                <a href="../index.html#blog">Blog</a>
                <a href="../index.html#contact">Contact</a>
            </div>
        </nav>
    </header>

    <section class="blog-header">
        <img src="dynamic-dashboard.svg" alt="Dashboard" class="blog-image" style="width: 90%; max-width: 50rem;">
        <div class="blog-header-content">
            <p class="blog-category">Distributed Systems</p>
            <h1 class="blog-title">Real time Dashboard using websockets</h1>
            <div class="blog-meta">
                <span><i class="far fa-calendar-alt"></i> April 24, 2025</span>
                <span><i class="far fa-clock"></i> 10 min read</span>
                <span><i class="fas fa-tag"></i> WebSockets, Goroutines, Channels</span>
            </div>
        </div>
    </section>

    <div class="blog-content">
        <h2>Introduction</h2>
        <p>
            A dashboard is a data visualization and management tool that visually tracks and analyzes the Key Performance Indicators (KPIs), business analytics metrics, infrastructure health and status, and data points for an organization, team, or process. It can be used to present operational and analytical business data with interactive data visualizations to your team.
        </p>
        <p>
            A real-time dashboard is a dashboard that contains charts that are automatically updated with the most current data available. The typical use case is to load a chart with some historical data first and then live update it as new data comes in.
        </p>

        <p>
            WebSocket has become the de facto standard of building real-time dashboards and data visualizations. Unlike traditional dashboards based on periodic polling of databases, WebSockets allows its client to listen to the data coming from servers. That enables the backends to send new data to dashboards at the same time when something happens. 
        </p>
        
        <h2>Building Websocket Server for Dashboard</h2>
        <p>
            To get the proper understanding of the working of real-time dashboard lets create a simple websocket based server which keeps track of some elements and updates all active websocket connection about the changes on tracked data. For sake of simplicity we will only keep track of three variables <code>products</code>, <code>orders</code> and <code>customers</code>.
            For this we will be using <code>golang</code> library <code>github.com/gorilla/websocket</code> for websocket connection and <code>github.com/go-chi/chi</code> for our server.</p>
              
        <p>
            First, we create a <code>DashboardData</code> structure to store the tracked data.
        </p>
        <div class="code-block">
            type DashboardData struct {
                Orders    int `json:"orders"`
                Customers int `json:"customers"`
                Products  int `json:"products"`
            }
        </div>        
          <p>
            For fetching Dashboard data we can use <code> FetchDashboardHelper</code> for fetch complete dashboard data:
        </p>
        
        <div class="code-block">
            func (Dashboard *DashboardData) FetchDashboardHelper() []byte {
                data, err := json.Marshal(Dashboard)
                if err != nil {
                    log.Printf("Error: %v", err)
                }
                return data
            }
        </div>

        <p>
            We can add and remove dashboard data, we will be using <code>AddDashboardData(s string)</code>  and <code>RemoveDashboardData(s string) error</code> functions:
        </p>
        <div class="code-block">
            func (Dashboard *DashboardData) FetchDashboardHelper() []byte {
                data, err := json.Marshal(Dashboard)
                if err != nil {
                    log.Printf("Error: %v", err)
                }
                return data
            }
        
            func (Dashboard *DashboardData) AddDashboardData(s string) {
                switch s {
                case ORDERS:
                    Dashboard.Orders++
                case CUSTOMERS:
                    Dashboard.Customers++
                case PRODUCTS:
                    Dashboard.Products++
                }
        
                // update presently connected websocket connections about the dashboard changes
                go func() {
                    update <- 1 
                }()
            }
            
            func (Dashboard *DashboardData) RemoveDashboardData(s string) error {
                switch s {
                case ORDERS:
                    if Dashboard.Orders == 0 {
                        return fmt.Errorf("no order remains to remove")
                    }
                    Dashboard.Orders--
                case CUSTOMERS:
                    if Dashboard.Customers == 0 {
                        return fmt.Errorf("no customer remains to remove")
                    }
                    Dashboard.Customers--
                case PRODUCTS:
                    if Dashboard.Products == 0 {
                        return fmt.Errorf("no product remains to remove")
                    }
                    Dashboard.Products--
                }
        
                // update presently connected websocket connections about the dashboard changes
                go func() {
                    update <- 1
                }()
                return nil
            }
        </div>

        <p>
            As you can see in from above code apart from updating dashboard data we are also sending a data on channel, it is so that we can change the updated channel to all the websocket connection currently connected to the server.
            Below are the add and delete API handlers we are using to update dashboard:             
        </p>

        <div class="code-block">
            func AddOrder(w http.ResponseWriter, r *http.Request) {
                dashboard.AddDashboardData(ORDERS)
                _, err := w.Write([]byte("Order Added"))
                if err != nil {
                    return
                }
                return
            }
        
            func AddCustomer(w http.ResponseWriter, r *http.Request) {
                dashboard.AddDashboardData(CUSTOMERS)
                _, err := w.Write([]byte("Order Added"))
                if err != nil {
                    return
                }
                return
            }
        
            func AddProducts(w http.ResponseWriter, r *http.Request) {
                dashboard.AddDashboardData(PRODUCTS)
                _, err := w.Write([]byte("Order Added"))
                if err != nil {
                    return
                }
                return
            }
            
            func RemoveOrder(w http.ResponseWriter, r *http.Request) {
                err := dashboard.RemoveDashboardData(ORDERS)
                if err != nil {
                    w.WriteHeader(http.StatusBadRequest)
                    return
                }
                _, err = w.Write([]byte("Order Added"))
                if err != nil {
                    return
                }
                return
            }
            
            func RemoveCustomer(w http.ResponseWriter, r *http.Request) {
                err := dashboard.RemoveDashboardData(CUSTOMERS)
                if err != nil {
                    w.WriteHeader(http.StatusBadRequest)
                    return
                }
                _, err = w.Write([]byte("Order Added"))
                if err != nil {
                    return
                }
                return
            }
        
            func RemoveProducts(w http.ResponseWriter, r *http.Request) {
                err := dashboard.RemoveDashboardData(PRODUCTS)
                if err != nil {
                    w.WriteHeader(http.StatusBadRequest)
                    return
                }
                _, err = w.Write([]byte("Order Added"))
                if err != nil {
                    return
                }
                return
            }        
        </div>

        <p>
            Now, we have all the required handlers we will be needing for our Websocket server. Below is the <code>main()</code> function we used:
        </p>

        <div class="code-block">
    var update chan int // channel to keep track when dashboard is updated
    var dashboard DashboardData // structure to store dashboard data
    
    func main() {
        fmt.Println("Starting Server...")
        update = make(chan int)
        router := chi.NewRouter()
        router.Route("/", func(ws chi.Router) {
            ws.Get("/dashboard", DashboardHandler)
            ws.Post("/sign-up", AddCustomer)
            ws.Post("/order", AddOrder)
            ws.Post("/product", AddProducts)
            ws.Delete("/order", RemoveOrder)
            ws.Delete("/product", RemoveProducts)
            ws.Delete("/sign-off", RemoveCustomer)
        })
        log.Fatal(http.ListenAndServe(":8082", router))
    }
        </div>

        <p>
            As we run the above code out server will be hosted on <code>localhost:8082</code>. 
Below is the Postman snippet of Dashboard API:
        </p>
        <video controls class="diagram-image">
            <source src="dashboard.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <img src="output.png" alt="Postman Output" class="diagram-image">
        <p>
            As we can see from above snippet user connected to server via websocket will get updated dashboard data with every change it will receive. Hence, user is get updated in real-time.
        </p>
<h2>Conclusion</h2>
<p>
    WebSockets are one of the most interesting and convenient ways to achieve real-time capabilities in an application. It gives us a lot of flexibility to leverage full-duplex communications. In this blog, we have explored the applications of websockets and also created a real-time dashboard service using it which shows how data is handled in real-time.   
</p>

<div class="github-link">
    <a href="https://github.com/mannu2411/Real-time-Dashboard" target="_blank">
        <i class="fab fa-github"></i> View on GitHub
    </a>
</div>

<div class="blog-tags">
    <span class="blog-tag">WebSockets</span>
    <span class="blog-tag">Kafka</span>
    <span class="blog-tag">Redis</span>
    <span class="blog-tag">Go</span>
    <span class="blog-tag">Distributed Systems</span>
    <span class="blog-tag">Real-time</span>
</div>

<div class="blog-author">
    <a href="../index.html" class="logo">MJ</a>
    <div class="author-content">
        <h3 class="author-name">Manubhav Jain</h3>
        <p class="author-bio">Backend engineer specializing in distributed systems and real-time applications. Currently working on scalable messaging infrastructure and cloud-native applications.</p>
        <div class="author-social">
            <a href="https://github.com/mannu2411"><i class="fab fa-github"></i></a>
            <a href="https://leetcode.com/u/mannu2411/" title="LeetCode"><i class="fas fa-code"></i></a>
            <a href="https://www.linkedin.com/in/manubhav-jain-55382a154/"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fas fa-globe"></i></a>
        </div>
    </div>
</div>

<div class="related-posts">
    <h2 class="related-title">Related Posts</h2>
    <div class="related-grid">
        <div class="related-card">
            <div class="related-image">
                <img src="Redis PubSub/redis-pub-sub.png" alt="Pub-Sub using Redis">
            </div>
            <div class="related-content">
                <h3 class="related-card-title">Pub-Sub using Redis</h3>
                <p class="relates-date">December 10, 2024</p>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image">
                <img src="Reflect/reflect-in-go.png" alt="Reflection in Golang">
            </div>
            <div class="related-content">
                <h3 class="related-card-title">Reflection in Golang</h3>
                <p class="related-date">January 19, 2025</p>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image">
                <img src="PubSub/kafka.png" alt="Pub-Sub Using kafka">
            </div>
            <div class="related-content">
                <h3 class="related-card-title">Pub-Sub Using kafka</h3>
                <p class="related-date">February 8, 2025</p>
            </div>
        </div>
    </div>
</div>
<div class="back-to-portfolio">
    <a href="../index.html" class="button">Back to Portfolio</a>
</div>
</div>

<footer>
<div class="footer-content">
    <div class="footer-links">
        <a href="../index.html#about">About</a>
        <a href="../index.html#experience">Experience</a>
        <a href="../index.html#skills">Skills</a>
        <a href="../index.html#projects">Projects</a>
        <a href="../index.html#blog">Blog</a>
        <a href="../index.html#contact">Contact</a>
    </div>
    <div class="footer-social">
        <a href="#"><i class="fab fa-github"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-linkedin"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
    </div>
    <p class="footer-text">Â© 2025 Manubhav Jain. All rights reserved.</p>
</div>
</footer>

<script>
window.addEventListener('scroll', function() {
    const header = document.querySelector('header');
    if (window.scrollY > 50) {
        header.style.padding = '15px 50px';
        header.style.boxShadow = '0 10px 30px -10px rgba(2, 12, 27, 0.7)';
    } else {
        header.style.padding = '20px 50px';
        header.style.boxShadow = 'none';
    }
});
</script>
</body>
</html>